{
  "viewSpec": {
    "type": "base",
    "layout": "base",
    "order": ["config"]
  },
  "defaultValue": {
    "config": {
      "logs": {
        "enabled": true,
        "collectAgentLogs": false,
        "excludedNamespaces": ["kube-system"]
      },
      "metrics": {
        "enabled": true,
        "collectAgentMetrics": false,
        "collectK8sClusterMetrics": false,
        "excludedNamespaces": [],
        "additionalTargets": []
      }
    }
  },
  "type": "object",
  "properties": {
    "config": {
      "type": "object",
      "required": true,
      "viewSpec": {
        "type": "base",
        "order": ["logs", "metrics"],
        "layout": "tabs",
        "layoutTitle": "Agent Configuration"
      },
      "properties": {
        "logs": {
          "type": "object",
          "viewSpec": {
            "type": "base",
            "order": ["enabled", "collectAgentLogs", "excludedNamespaces"],
            "layout": "section",
            "layoutTitle": "Logs Collection"
          },
          "properties": {
            "enabled": {
              "type": "boolean",
              "viewSpec": {
                "type": "checkbox",
                "layout": "row",
                "layoutTitle": "Enable Log Collection",
                "layoutDescription": "Enable collection of logs from pods and containers"
              }
            },
            "collectAgentLogs": {
              "type": "boolean",
              "viewSpec": {
                "type": "checkbox",
                "layout": "row",
                "layoutTitle": "Collect Agent Logs",
                "layoutDescription": "Collect logs from the observability agent itself"
              }
            },
            "excludedNamespaces": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "viewSpec": {
                "type": "array",
                "layout": "row",
                "layoutTitle": "Excluded Namespaces",
                "layoutDescription": "List of namespaces to exclude from log collection"
              }
            }
          }
        },
        "metrics": {
          "type": "object",
          "viewSpec": {
            "type": "base",
            "order": ["enabled", "collectAgentMetrics", "collectK8sClusterMetrics", "excludedNamespaces", "additionalTargets"],
            "layout": "section",
            "layoutTitle": "Metrics Collection"
          },
          "properties": {
            "enabled": {
              "type": "boolean",
              "viewSpec": {
                "type": "checkbox",
                "layout": "row",
                "layoutTitle": "Enable Metrics Collection",
                "layoutDescription": "Enable collection of metrics from pods and services"
              }
            },
            "collectAgentMetrics": {
              "type": "boolean",
              "viewSpec": {
                "type": "checkbox",
                "layout": "row",
                "layoutTitle": "Collect Agent Metrics",
                "layoutDescription": "Collect metrics from the observability agent itself"
              }
            },
            "collectK8sClusterMetrics": {
              "type": "boolean",
              "viewSpec": {
                "type": "checkbox",
                "layout": "row",
                "layoutTitle": "Collect Kubernetes Cluster Metrics",
                "layoutDescription": "Collect metrics from Kubernetes cluster components"
              }
            },
            "excludedNamespaces": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "viewSpec": {
                "type": "array",
                "layout": "row",
                "layoutTitle": "Excluded Namespaces",
                "layoutDescription": "List of namespaces to exclude from metrics collection"
              }
            },
            "additionalTargets": {
              "type": "array",
              "items": {
                "type": "object"
              },
              "viewSpec": {
                "type": "textarea",
                "layout": "row",
                "layoutTitle": "Additional Prometheus Targets",
                "layoutDescription": "Additional Prometheus scrape configs in YAML format (optional)"
              }
            }
          }
        }
      }
    }
  }
}
